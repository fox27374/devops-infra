extensions:
  health_check:

receivers:
  hostmetrics:
    collection_interval: 5s
    scrapers:
      cpu:
      disk:
      filesystem:
      load:
      memory:
      network:
      paging:
  journald:
    units:
    - ssh
  filelog:
    include:
    - /var/log/auth.log
    - /var/log/syslog

processors:
  batch:
  resourcedetection:
    detectors:
    - system
    system:
      resource_attributes:
        host.name:
          enabled: true

exporters:
  splunk_hec/logs:
    token: "abcd1234"
    endpoint: "http://hec.lab.local/services/collector"
    source: "otel"
    sourcetype: "lab_logs"
    index: "lab_logs"
    disable_compression: false
    timeout: 10s
    tls:
      insecure_skip_verify: true
  splunk_hec/metrics:
    token: "abcd1234"
    endpoint: "http://hec.lab.local/services/collector"
    source: "otel"
    sourcetype: "lab_metrics"
    index: "lab_metrics"
    disable_compression: false
    timeout: 10s
    tls:
      insecure_skip_verify: true

service:
  pipelines:
    metrics:
      receivers:
      - hostmetrics
      processors:
      - batch
      - resourcedetection
      exporters:
      - splunk_hec/metrics
    logs:
      receivers:
      - journald
      - filelog
      processors:
      - batch
      - resourcedetection
      exporters:
      - splunk_hec/logs

  extensions:
  - health_check